The problem is that we are dividing the number of documents by the numbers of documents in which the term appears, which produces an integer, leaving out any decimals. We therefore must use .fdiv or .to_f on one of the integers in order to get the accurate answer. We should also include a check for the number of documents with the given term, as an error will occur if no documents are found and then we try to divide by 0.